# CatAdventure - backend
[Deployed here](https://ec2-13-49-120-237.eu-north-1.compute.amazonaws.com:4443/cats?page=1) \
[Frontend repository here](https://github.com/LauranDvd/cat-adventure-frontend)

This repository contains the backend code for **CatAdventure**, an application where users can buy cats using in-game currency, enhance their "cuteness" by taking quizzes generated by the OpenAI API, generate custom 2D avatars, and other things. \
Written in **Express.js**, using **MongoDB** for data storage.

**Key Features** 
* cat & user management
* cat-themed quizzes
* 2D cat avatar generation
* real-time chart data via **WebSockets**
* comprehensive unit testing written with **Jest**

Most endpoints are protected with **JWT**. Endpoints that return large amounts of data return paginated results. 

**Some API endpoints**
* **GET /cats** — get all cats
* **POST /cats** — add cat
* **GET or PUT or POST /cats/:id** — get, or update, or delete a cat by id
* **GET /cats/mine** — get authenticated user's cats
* **GET /cats/toys-per-cat?count={number}** — get a list of *count* pairs (cat, number of toys the cat has)
* **GET /cats/age-distribution** — get cats' age distribution as a list of pairs (count, age)
* **POST /cats/avatar** — set a cat's avatar; body should contain *catId* and *prompt*
* **GET /users** — get all users
* **POST /users** — add user
* **DELETE /users/:id** — delete user by id
* **GET /users/leaderboard** — get a list of pairs (user, total cuteness of their cats) ordered by the second value
